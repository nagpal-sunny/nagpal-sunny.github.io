<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" 
  
>
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="ARC in Swift" />
<meta property="og:locale" content="en" />
<meta name="description" content="One of the key factors for the success of any application is its performance. Effective Memory Management in an application is crucial for better performance of the application. iOS applications developed using Swift language rely on ARC for tracking and managing application memory usage. ARC uses reference counting to manage the application memory. Reference counting is only applicable to instances of classes." />
<meta property="og:description" content="One of the key factors for the success of any application is its performance. Effective Memory Management in an application is crucial for better performance of the application. iOS applications developed using Swift language rely on ARC for tracking and managing application memory usage. ARC uses reference counting to manage the application memory. Reference counting is only applicable to instances of classes." />
<link rel="canonical" href="http://localhost:4000/posts/arc-in-swift/" />
<meta property="og:url" content="http://localhost:4000/posts/arc-in-swift/" />
<meta property="og:site_name" content="Saurav Nagpal Writings" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-07-15T14:22:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ARC in Swift" />
<meta name="twitter:site" content="@nagpalsaurav" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-08-08T21:19:19+05:30","datePublished":"2023-07-15T14:22:00+05:30","description":"One of the key factors for the success of any application is its performance. Effective Memory Management in an application is crucial for better performance of the application. iOS applications developed using Swift language rely on ARC for tracking and managing application memory usage. ARC uses reference counting to manage the application memory. Reference counting is only applicable to instances of classes.","headline":"ARC in Swift","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/arc-in-swift/"},"url":"http://localhost:4000/posts/arc-in-swift/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>ARC in Swift | Saurav Nagpal Writings
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Saurav Nagpal Writings">
<meta name="application-name" content="Saurav Nagpal Writings">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
    </a>

    <div class="site-title">
      <a href="/">Saurav Nagpal Writings</a>
    </div>
    <div class="site-subtitle fst-italic">Articles about Swift and iOS development, by Saurav Nagpal</div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>CATEGORIES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>TAGS</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>ARCHIVES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          

          <span>ABOUT</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/nagpal-saurav"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/nagpalsaurav"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['nagpalsunny15','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container px-xxl-5">
        <!-- The Top Bar -->

<div id="topbar-wrapper">
  <div
    id="topbar"
    class="container d-flex align-items-center justify-content-between h-100"
  >
    <span id="breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>ARC in Swift</span>
            

          
        
      
    </span>
    <!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </span>
    <span id="search-cancel">Cancel</span>
  </div>
</div>

        











<div class="row">
  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4">
    

    <div class="post px-1 px-md-2">
      

      
        
      
        <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  

  
  

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  




<!-- return -->




<h1 data-toc-skip>ARC in Swift</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Posted
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1689411120"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jul 15, 2023
</em>

    </span>

    <!-- lastmod date -->
    
    <span>
      Updated
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1691509759"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Aug  8, 2023
</em>

    </span>
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      By

      <em>
      
        <a href="https://twitter.com/nagpalsaurav">Saurav Nagpal</a>
      
      </em>
    </span>

    <div>
      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="962 words"
>
  <em>5 min</em> read</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>One of the key factors for the success of any application is its performance. Effective Memory Management in an application is crucial for better performance of the application. iOS applications developed using Swift language rely on ARC for tracking and managing application memory usage. ARC uses reference counting to manage the application memory. Reference counting is only applicable to instances of classes.</p>

<h1 id="what-is-arc">What is ARC?</h1>

<p>ARC is a memory management tool which tracks and manages the application memory. It is a compiler-driven feature. It observes the reference count of object of a class to manage and free the memory. So the question is what is reference count?</p>

<p>Reference count in simple language is the “number of pointers to any object”.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">Amount</span> <span class="o">=</span> <span class="kt">Int</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyTravel</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">city</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Amount</span>
    
    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
        <span class="k">self</span><span class="o">.</span><span class="n">totalSpending</span> <span class="o">=</span> <span class="n">totalSpending</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">//Uses of My Travel Class</span>
<span class="c1">//My trip List</span>
<span class="k">let</span> <span class="nv">goaTrip</span> <span class="o">=</span> <span class="kt">MyTravel</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="s">"Panji"</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="mi">50000</span><span class="p">)</span> <span class="c1">//init is one pointer to Object of</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"I spent Rs </span><span class="se">\(</span><span class="n">goaTrip</span><span class="o">.</span><span class="n">totalSpending</span><span class="se">)</span><span class="s"> in goa trip"</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">tripWithHigherSpending</span> <span class="o">=</span> <span class="p">[</span><span class="n">goaTrip</span><span class="p">]</span> <span class="c1">// One more pointer to goaTrip</span>
<span class="k">var</span> <span class="nv">recentTrip</span> <span class="o">=</span> <span class="n">goaTrip</span>              <span class="c1">// One more pointer to goaTrip</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"I spent Rs </span><span class="se">\(</span><span class="n">recentTrip</span><span class="o">.</span><span class="n">totalSpending</span><span class="se">)</span><span class="s"> during recentTrip"</span><span class="p">)</span></code></pre></figure>

<p>Reference counting only applies to class instances, so struct &amp; enum do not participate in reference counting.</p>

<h1 id="how-arc-works">How ARC Works?</h1>

<p>As mentioned, ARC is a compiler-driven feature. It inserts retain and release statements during compilation.</p>

<ul>
  <li>Retain increase the reference count.</li>
  <li>Release decrease the reference count.</li>
</ul>

<div id="divActivites" name="divActivites" style="padding-left:10px; padding-right:10px; background-color: #FFFFE0; border:1px solid black;">

<b><span style="color:#A8571B">#TechShorts</span></b>
<br />

ARC is the compiler-driven feature and it injects retain/release statements in a code during compilation time.

</div>

<h4 id="how-does-the-compiler-decide-when-to-insert-retainrelease"><span class="me-2">How does the compiler decide when to insert retain/release?</span><a href="#how-does-the-compiler-decide-when-to-insert-retainrelease" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<blockquote>
  <p>Object life cycle in Swift begins with init and ends at last use.</p>
</blockquote>

<p>ARC decide based on the above when to add retain and release statement.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">Amount</span> <span class="o">=</span> <span class="kt">Int</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyTravel</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">city</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Amount</span>
    
    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
        <span class="k">self</span><span class="o">.</span><span class="n">totalSpending</span> <span class="o">=</span> <span class="n">totalSpending</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><a href="/Assest/iOS/arc/arcCompile.png" class="popup img-link "><img data-src="/Assest/iOS/arc/arcCompile.png" class="lazyload" data-proofer-ignore></a></p>

<p>The object life cycle in Swift is different from the other language. In most of the other languages, it ends at the closing brace.</p>

<p>However, code should not be written based on this assumption and as it might change depending upon the compiler optimisation/changes.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">explainARCSample</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//My trip List</span>
    <span class="k">let</span> <span class="nv">goaTrip</span> <span class="o">=</span> <span class="kt">MyTravel</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="s">"Panji"</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="mi">50000</span><span class="p">)</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">goaWeakTrip</span> <span class="o">=</span> <span class="n">goaTrip</span>
    <span class="k">var</span> <span class="nv">recentTrip</span> <span class="o">=</span> <span class="n">goaTrip</span>

    <span class="n">recentTrip</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="s">"Manali"</span>
    <span class="n">recentTrip</span><span class="o">.</span><span class="n">totalSpending</span> <span class="o">=</span> <span class="mi">40000</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="s">"I used weak reference here: Goa Trip Rs </span><span class="se">\(</span><span class="n">goaWeakTrip</span><span class="p">?</span><span class="o">.</span><span class="n">totalSpending</span> <span class="p">??</span> <span class="mi">50000</span><span class="se">)</span><span class="s"> during recent trip"</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

<p>You should not write logic as written above as the result is unexpected in the above case.</p>

<h1 id="arc-need-your-help">ARC need your help.</h1>

<p>ARC cannot detect or break **Reference cycle **. If object holds a strong reference to each other directly or indirectly in that case memory cannot be released of the objects.</p>

<p><a href="/Assest/iOS/arc/arcRefrencecycle.png" class="popup img-link "><img data-src="/Assest/iOS/arc/arcRefrencecycle.png" class="lazyload" data-proofer-ignore></a></p>

<p>In the above cases, even if the compiler inserts a release statement the object will not be released from memory as both object holds each other.</p>

<p>Prevention is the only cure here, so while writing code this need to take care of.</p>

<h4 id="weak--unowned-reference-cycle"><span class="me-2">Weak &amp; Unowned Reference Cycle</span><a href="#weak--unowned-reference-cycle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>To break the reference cycle weak and unowned keywords can be used. Both reference type does not participate in reference counting.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyTravelDiary</span> <span class="p">{</span>
    <span class="kd">fileprivate</span> <span class="k">var</span> <span class="nv">travels</span><span class="p">:</span> <span class="p">[</span><span class="kt">MyTravel</span><span class="p">]</span>
    <span class="kd">public</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">travels</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">}</span>
    
    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">addTravel</span><span class="p">(</span><span class="n">_</span> <span class="nv">travel</span><span class="p">:</span> <span class="kt">MyTravel</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">travels</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">travel</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Weak reference can be used when you are not sure about the life cycle of the referred object. It will automatically be set to nil if the object reference count becomes zero. The only constraint with weak is must be optional.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyTravel</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">city</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Amount</span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">travelDiary</span><span class="p">:</span> <span class="kt">MyTravelDiary</span><span class="p">?</span>
    
    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
        <span class="k">self</span><span class="o">.</span><span class="n">totalSpending</span> <span class="o">=</span> <span class="n">totalSpending</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Unowned reference can be used when you are sure about the life cycle of the referred object and it will not be deallocated. It can be used with an object which has an equal or greater life cycle. Unowned references can be declared as non-optional and faster access as compared to weak ones. The weak need to unwrap to access the value.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyTravel</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">city</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Amount</span>
    <span class="k">unowned</span> <span class="k">var</span> <span class="nv">travelDiary</span><span class="p">:</span> <span class="kt">MyTravelDiary</span>
    
    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">travelDiary</span><span class="p">:</span> <span class="kt">MyTravelDiary</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
        <span class="k">self</span><span class="o">.</span><span class="n">totalSpending</span> <span class="o">=</span> <span class="n">totalSpending</span>
        <span class="k">self</span><span class="o">.</span><span class="n">travelDiary</span> <span class="o">=</span> <span class="n">travelDiary</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">travelDiary</span> <span class="o">=</span> <span class="kt">MyTravelDiary</span><span class="p">()</span>

<span class="c1">//unowned uses</span>
<span class="k">let</span> <span class="nv">manaliTrip</span> <span class="o">=</span> <span class="kt">MyTravel</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="s">"Manali"</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="mi">40000</span><span class="p">,</span> <span class="nv">travelDiary</span><span class="p">:</span> <span class="n">travelDiary</span><span class="p">)</span>

<span class="c1">//weak uses</span>
<span class="k">let</span> <span class="nv">manaliTrip</span> <span class="o">=</span> <span class="kt">MyTravel</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="s">"Manali"</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="mi">40000</span><span class="p">)</span>
<span class="n">manaliTrip</span><span class="o">.</span><span class="n">travelDiary</span> <span class="o">=</span> <span class="n">travelDiary</span></code></pre></figure>

<div id="divActivites" name="divActivites" style="padding-left:10px; padding-right:10px; background-color: #FFFFE0; border:1px solid black;">

<b><span style="color:#A8571B">#TechShorts</span></b>
<br />
A weak reference is automatically set to nil if no strong reference remains and a weak reference is always optional. Unowned references will refer to deallocated memory if no strong reference remains, so the application can crash. Unowned is always non-optional.

</div>

<h1 id="bonus">Bonus.</h1>

<p>There are safe ways to access the weak refrence to avoid unexpected result or fatal excpetion (force unrawp) at run time.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyTravel</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">city</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Amount</span>
    <span class="kd">public</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">travelDiary</span><span class="p">:</span> <span class="kt">MyTravelDiary</span><span class="p">?</span>
    
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">isExistInTravelDiary</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="n">travelDiary</span><span class="o">!.</span><span class="n">travels</span><span class="o">.</span><span class="n">filter</span> <span class="p">{</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="k">self</span><span class="o">.</span><span class="n">city</span>
        <span class="p">}</span><span class="o">.</span><span class="n">first</span> <span class="o">!=</span> <span class="kc">nil</span>
    <span class="p">}</span>
    
    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
        <span class="k">self</span><span class="o">.</span><span class="n">totalSpending</span> <span class="o">=</span> <span class="n">totalSpending</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyTravelDiary</span> <span class="p">{</span>
    <span class="kd">fileprivate</span> <span class="k">var</span> <span class="nv">travels</span><span class="p">:</span> <span class="p">[</span><span class="kt">MyTravel</span><span class="p">]</span>
    <span class="kd">public</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">travels</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">}</span>
    
    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">addTravel</span><span class="p">(</span><span class="n">_</span> <span class="nv">travel</span><span class="p">:</span> <span class="kt">MyTravel</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">travels</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">travel</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h4 id="option-1-withextendedlifetime"><span class="me-2">Option 1: withExtendedLifetime</span><a href="#option-1-withextendedlifetime" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">testTravelDiary</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//Manali Trip</span>
    <span class="k">let</span> <span class="nv">travelDiary</span> <span class="o">=</span> <span class="kt">MyTravelDiary</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">manaliTrip</span> <span class="o">=</span> <span class="kt">MyTravel</span><span class="p">(</span><span class="nv">city</span><span class="p">:</span> <span class="s">"Manali"</span><span class="p">,</span> <span class="nv">totalSpending</span><span class="p">:</span> <span class="mi">40000</span><span class="p">)</span>
    <span class="n">manaliTrip</span><span class="o">.</span><span class="n">travelDiary</span> <span class="o">=</span> <span class="n">travelDiary</span>
    
    <span class="nf">withExtendedLifetime</span><span class="p">(</span><span class="n">travelDiary</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">existString</span> <span class="o">=</span> <span class="n">manaliTrip</span><span class="o">.</span><span class="n">isExistInTravelDiary</span> <span class="p">?</span> <span class="s">"exist"</span> <span class="p">:</span> <span class="s">"not exist"</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Manali Travel </span><span class="se">\(</span><span class="n">existString</span><span class="se">)</span><span class="s"> in Travel Diary"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h4 id="option-2-strong-reference-capture"><span class="me-2">Option 2: Strong Reference Capture</span><a href="#option-2-strong-reference-capture" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">public</span> <span class="k">var</span> <span class="nv">isExistInTravelDiary</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span>
     <span class="k">if</span> <span class="k">let</span> <span class="nv">travelDiary</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">travelDiary</span> <span class="p">{</span>
           <span class="k">return</span> <span class="n">travelDiary</span><span class="o">.</span><span class="n">travels</span><span class="o">.</span><span class="n">filter</span><span class="p">{</span>
                <span class="nv">$0</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="k">self</span><span class="o">.</span><span class="n">city</span>
            <span class="p">}</span><span class="o">.</span><span class="n">first</span> <span class="o">!=</span> <span class="kc">nil</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="kc">false</span>
 <span class="p">}</span></code></pre></figure>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw me-1"></i>
    
      <a href='/categories/ios/'>iOS</a>,
      <a href='/categories/arc/'>ARC</a>,
      <a href='/categories/ios-memory-management/'>iOS Memory Management</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
      
      <a href="/tags/arc/"
          class="post-tag no-text-decoration" >ARC</a>
      
      <a href="/tags/swift-arc/"
          class="post-tag no-text-decoration" >Swift ARC</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.

      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper">
  <span class="share-label text-muted me-1">Share</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=ARC%20in%20Swift%20-%20Saurav%20Nagpal%20Writings&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Farc-in-swift%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=ARC%20in%20Swift%20-%20Saurav%20Nagpal%20Writings&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Farc-in-swift%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Farc-in-swift%2F&text=ARC%20in%20Swift%20-%20Saurav%20Nagpal%20Writings"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <i
      id="copy-link"
      class="fa-fw fas fa-link small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
    </i>
  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
      
    </div>
  </div>
  <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
    <div class="access">
      <!-- Get the last 5 posts from lastmod list. -->














  <div id="access-lastmod" class="post">
    <div class="panel-heading">Recently Updated</div>
    <ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/arc-in-swift/">ARC in Swift</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Swift-(Nil-Coalescing)-Do's-and-Don't/">Swift ?? (Nil Coalescing) Do's and Don't</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/crossplatform-Flutter-on-Apple-Silicon-Mac/">Flutter on Apple Silicon Mac: Cocoa-pods Issue</a>
        </li>
      
    </ul>
  </div>
  <!-- #access-lastmod -->


      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/class-wrapper/">Class Wrapper</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/decorator-pattern/">Decorator Pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/arc/">ARC</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/facade-pattern/">Facade Pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/face-of-a-building/">Face of a building</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ios-build-config/">iOS build config</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ios-scheme/">iOS scheme</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mac-m1/">Mac M1</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mac-rosetta/">Mac rosetta</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swift-arc/">Swift ARC</a>
      
    </div>
  </div>


    </div>

    
      
      




    
  </div>
</div>

<!-- tail -->

  <div class="row">
    <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5">
      
        
        <!--
  Recommend the other 3 posts according to the tags and categories of the current post,
  if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->








  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  






<!-- Fill with the other newlest posts -->



  
    
    
  
    
    
      
      
    
  
    
    
      
      
        
        
        
      
    
  
    
    
      
      
        
        
        
          



  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ms-1" data-toc-skip>
      Further Reading
    </h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        
        
        <div class="col">
          <a href="/posts/iOS-Custom-Build-Scheme/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1688297470"
  data-df="ll"
  
>
  Jul  2, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Distribute iOS Beta Build (Scheme & Configurations)</h4>
              <div class="text-muted small">
                <p>
                  





                  

 Overview

Having multiple build configurations during the application’s development phase is a good practice. Customers can ask for both debug and release configuration builds. Beta and Alpha te...
                </p>
              </div>
            </div>
          </a>
        </div>
      
        
        
        <div class="col">
          <a href="/posts/decoratorpattern/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1687617010"
  data-df="ll"
  
>
  Jun 24, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Design Pattern Series: Decorator Pattern (Structure Pattern)</h4>
              <div class="text-muted small">
                <p>
                  





                  

 Overview




 Decorator Pattern - Decorate an object (wrapper of an object).

The decorator pattern is used to add new functionality to an existing object without changing its structure. A wrapp...
                </p>
              </div>
            </div>
          </a>
        </div>
      
        
        
        <div class="col">
          <a href="/posts/Facadepattern/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1687617010"
  data-df="ll"
  
>
  Jun 24, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Design Pattern Series: Facade Pattern (Structure Pattern)</h4>
              <div class="text-muted small">
                <p>
                  





                  

 Overview




 Facade - Face of a building.

A pattern to provide a simple interface to a complex framework or library. It hides the complexity and interaction between different objects in the fr...
                </p>
              </div>
            </div>
          </a>
        </div>
      
    </div>
    <!-- .card-deck -->
  </div>
  <!-- #related-posts -->


      
        
        <!-- Navigation buttons at the bottom of the post. -->

<div class="post-navigation d-flex justify-content-between">
  
    <a
      href="/posts/iOS-Custom-Build-Scheme/"
      class="btn btn-outline-primary"
      prompt="Older"
    >
      <p>Distribute iOS Beta Build (Scheme & Configurations)</p>
    </a>
  

  
    <div
      class="btn btn-outline-primary disabled"
      prompt="Newer"
    >
      <p>-</p>
    </div>
  
</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>


        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 post-content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/class-wrapper/">Class Wrapper</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/decorator-pattern/">Decorator Pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/arc/">ARC</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/facade-pattern/">Facade Pattern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/face-of-a-building/">Face of a building</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ios-build-config/">iOS build config</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ios-scheme/">iOS scheme</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mac-m1/">Mac M1</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mac-rosetta/">Mac rosetta</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swift-arc/">Swift ARC</a>
      
    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>
    </div>

    <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
      </p>

      <p>©
        2023
        <a href="https://twitter.com/nagpalsaurav">Saurav Nagpal</a>.
        
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
          >Some rights reserved.</span>
        
      </p>
    </div>
  </div>
</footer>


    <div id="mask"></div>

    <button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow">
      <i class="fas fa-angle-up"></i>
    </button>

    
      <div
        id="notification"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        data-bs-animation="true"
        data-bs-autohide="false"
      >
        <div class="toast-header">
          <button
            type="button"
            class="btn-close ms-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="px-2 mb-3">A new version of content is available.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Update
          </button>
        </div>
      </div>
    

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

